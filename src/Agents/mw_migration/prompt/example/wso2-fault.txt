<?xml version="1.0" encoding="UTF-8"?>
<sequence name="(1)-fault" trace="disable" xmlns="http://ws.apache.org/ns/synapse">
    <log description="Fault Seq" level="custom">
        <property name="(1)-fault_seq" value="Entering Aman vodafone paymob fault Sequence"/>
    </log>
    <property description="ErrorMessage" expression="get-property('ERROR_MESSAGE')" name="message" scope="default" type="STRING"/>
    <property description="ErrorCode" expression="get-property('ERROR_CODE')" name="code" scope="default" type="STRING"/>
    <property description="ErrorDetail" expression="get-property('ERROR_DETAIL')" name="detail" scope="default" type="STRING"/>
    <property description="ErrorException" expression="get-property('ERROR_EXCEPTION')" name="exception" scope="default" type="STRING"/>
    <log description="LogAllErrors" level="custom">
        <property expression="get-property('ERROR_MESSAGE')" name="message"/>
        <property expression="get-property('ERROR_CODE')" name="code"/>
        <property expression="get-property('ERROR_DETAIL')" name="detail"/>
        <property expression="get-property('ERROR_EXCEPTION')" name="exception"/>
    </log>
    <filter description="" regex="" source="get-property('ERROR_CODE')">
        <then>
            <filter description="sequence name" regex="(source route)" source="get-property('sequence_id')">
                <then>
                    (2)  => (for example, <sequence key="(destination route)"/> or setting property with true or false)
                </then>
                <else>
                    (default action)
                </else>
            </filter>
        </then>
        <else>
            (default action)
        </else>
    </filter>
    (default action)
</sequence>